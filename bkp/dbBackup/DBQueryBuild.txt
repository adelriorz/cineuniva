CREATE DATABASE CINEMA;

USE CINEMA;

CREATE TABLE USER (
    idUser INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    nameUser VARCHAR(20) NOT NULL,
    passwordUser VARCHAR(20) NOT NULL,
    statusUser BIT NOT NULL, #User status
    typeUser BIT NOT NULL  #Rather 1, admin. 0, client
);
#/* Initializing USERS

/*Administrator*/
INSERT INTO USER(nameUser, passwordUser, statusUser, typeUser)
VALUES('admin', '1',1, 1);
/*Employee*/
INSERT INTO USER(nameUser, passwordUser, statusUser, typeUser)
VALUES('client', '2', 1, 0);

#*/

CREATE TABLE STATE (
    idState INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    nameState VARCHAR(20) NOT NULL,
    statusState BIT NOT NULL
);

#/* Initializing STATE
INSERT INTO STATE(nameState, statusState)
VALUES('Jalisco', 1);

INSERT INTO STATE(nameState, statusState)
VALUES('Nuevo Leon', 1);

INSERT INTO STATE(nameState, statusState)
VALUES('Estado de Mexico', 1);

INSERT INTO STATE(nameState, statusState)
VALUES('Chihuahua', 1);

INSERT INTO STATE(nameState, statusState)
VALUES('Sinaloa', 1);
#*/

CREATE TABLE MUNICIPALITY (
    idMunicipality INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    nameMunicipality VARCHAR(30) NOT NULL,
    fk_idState INT NOT NULL,
    FOREIGN KEY(fk_idState) REFERENCES STATE(idState),
    statusMunicipality BIT NOT NULL
);

#/* Initializing MUNICIPALITY

#Filling Jalisco
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Guadalajara', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Zapopan', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Tlaquepaque', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Tonala', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Zapotlanejo', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Tlajomulco', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Ayotlan', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Tequila', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Ocotlan', 1, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Puerto Vallarta', 1, 1);

#Filling Nuevo Leon
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Guadalupe', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Abasolo', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Apodaca', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Cinenga de Flores', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('General Zaragoza', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Iturbide', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Juarez', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Monterrey', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Salinas Victoria', 2, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('General Zuazua', 2, 1);

#Filling Estado de Mexico
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Cuautitlan Izcalli', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Chalco', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Aculco', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Atizapan', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Chapultepec', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Ecatepec de Morelos', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Naucalpan de Juarez', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Morelos', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Texcoco', 3, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Toluca', 3, 1);

#Filling Chihuahua
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Ignacio Zaragoza', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Allende', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Valle de Zaragoza', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Rosario', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Nonoava', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Matamoros', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Guadalupe y Calvo', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Coronado', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Delicias', 4, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Galeana', 4, 1);

#Filling Sinaloa
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Guasave', 5, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Navolato', 5, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Cosala', 5, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Angostura', 5, 1);
INSERT INTO MUNICIPALITY(nameMunicipality, fk_idState, statusMunicipality)
VALUES('Mocorito', 5, 1);

#*/

CREATE TABLE MOVIE(
    idMovie INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    nameMovie VARCHAR (30) NOT NULL,
    directorMovie VARCHAR (20) NOT NULL,
    producerMovie VARCHAR (20) NOT NULL,
    classificationMovie VARCHAR(3) NOT NULL,
    durationMovie VARCHAR (10) NOT NULL,
    genreMovie VARCHAR(20) NOT NULL,
    movieStatus BIT NOT NULL
);

#/*
#Inserting sample MOVIE
INSERT INTO MOVIE(nameMovie, directorMovie, producerMovie, classificationMovie,
durationMovie, genreMovie,movieStatus)
VALUES('Aladin', 'Disney', 'Disney', 'A', '135 mins', 'Animacion', 1);
#*/

#Also know as 'horario in spanish'
CREATE TABLE SCHEDULE ( 
    idSchedule INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    startTimeMovie DATE NOT NULL,
    endTimeMovie DATE NOT NULL,
    dayNumber DATE NOT NULL, # Format: "2020-11-15"
    cinemaroom INT NOT NULL, #Max 10
    statusSchedule BIT NOT NULL
);

#/*
#Inserting sample SCHEDULE
INSERT INTO SCHEDULE(startTimeMovie, endTimeMovie, dayNumber, statusSchedule)
VALUES("19:30:10", "19:30:10", "2017-06-15", 1);
#*/

CREATE TABLE BILLBOARD (
    idBillboard INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    fk_idSchedule INT, FOREIGN KEY(fk_idSchedule) REFERENCES SCHEDULE(idSchedule),    
    fk_idState INT, FOREIGN KEY(fk_idState) REFERENCES STATE(idState),
    fk_idMunicipality INT, FOREIGN KEY(fk_idMunicipality) REFERENCES MUNICIPALITY(idMunicipality),
    fk_idMovie INT, FOREIGN KEY(fk_idMovie) REFERENCES MOVIE(idMovie),
    statusBillboard BIT NOT NULL
);

#/*
#Inserting sample BILLBOARD
INSERT INTO BILLBOARD(fk_idSchedule, fk_idState, fk_idMunicipality,
fk_idMovie, statusBillboard)
VALUES(1,1,1,1,1);
#*/
